# Repository Integration Tests - 検証観点一覧

このディレクトリは、永続化層（Repository）の統合テストを担います。  
以下は、TenantRepository における主なテスト観点とそのカバレッジ状況です。

## ✅ 統合テストにおける検証観点一覧

| 観点 | 内容 | 理由 | 現状の状況 |
|------|------|------|--------------|
| **1. Repository層とDBの接続確認** | `save`, `findById`, `findByName` が動作する | Spring Data JPA・Converter・マッピング設定の確認 | ✅ 済 |
| **2. VOのマッピング確認** | `TenantName` の @Converter の保存・復元 | VOの変換バグを防ぐ | ✅ 済 |
| **3. 実DBでの制約確認** | 一意制約・null制約・長さ制限など | Flywayマイグレーションの退行検知、JPAとの整合性検証 | ✅ 一意制約のみ、null制約はKotlin型で保証済（@Disabledで除外） |
| **4. 存在しないデータの検索** | 見つからないIDや名前がnullになる | Repositoryの境界仕様として重要 | ✅ 済 |
| **5. 複数データがある場合の取得精度** | 無関係データが混在していても正しく取得できる | 正しいフィルタロジックを担保 | ✅ 済 |

## 備考

- `@Disabled` によってKotlinの型安全で担保されている制約確認はスキップ
- 今後 Flyway マイグレーションが変更された場合は観点3を重点的に再確認
