# Application name
spring.application.name=kt-event-saas

# OpenAI API key settings (set your actual API key)
spring.ai.openai.api-key=your-api-key-here
# spring.ai.openai.speech.api-key=your-api-key-here

# Database settings for the development environment
spring.datasource.url=jdbc:postgresql://localhost:5432/mydatabase
spring.datasource.username=myuser
spring.datasource.password=secret
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate settings (ddl-auto=none is recommended when using Flyway)
spring.jpa.hibernate.ddl-auto=none

# Enable SQL logging
spring.jpa.show-sql=true

# Enable Flyway migration
spring.flyway.enabled=true

# Disable open-in-view (good practice for API applications)
spring.jpa.open-in-view=false

# --- HikariCP: discard invalid/aborted connections ---
# Validate connections with a lightweight query before borrowing/returning.
spring.datasource.hikari.connection-test-query=SELECT 1

# Time-out for the validation query (milliseconds).
spring.datasource.hikari.validation-timeout=5000

# Run the test query in an isolated transaction to avoid clearing ABORT state.
spring.datasource.hikari.isolate-internal-queries=true

# Keep retrying during application startup until the database is ready.
spring.datasource.hikari.initialization-fail-timeout=0
